---
title: React useState Hook Part 2
description: Callback functions in React useState
date: '2021-10-22'
bannerId: https://i.imgur.com/E2O6Tzi.jpeg
tags:
  - react
  - tech
---

## How to use a callback function functions in React.useState?

<br />

From my previous [blog](https://carlogino.cc/blog/intro-to-react-hooks),
I discussed basic ways to use a `useState`.
In this blog we will talk about what will happen if we do these:
1. Pass a function to the `useState` function
2. Pass a function to the `setState` function 

### Why do we need to pass a `callback function` to the `useState` function

#### Problem

```jsx live
function SetStateDemo() {
  const complexFunction = () => {
    // Something computationally expensive
    // Try uncommenting the line below
    // console.log('Finding the meaning of life')
    return 'result of a heavy task'
  }

  const [,setState] = React.useState(complexFunction())

  return <button onClick={() => setState(Date.now())} >Click Me</button>
}
```


#### Solution

```jsx
const [,setState] = React.useState(() => complexFunction())
OR
const [,setState] = React.useState(complexFunction)
```

```jsx live
function SetStateDemo() {
  const complexFunction = () => {
    // Something computationally expensive
    // Try uncommenting the line below
    // console.log('Finding the meaning of life')
    return 'result of a heavy task'
  }

  const [,setState] = React.useState(complexFunction)

  return <button onClick={() => setState(Date.now())} >Click Me</button>
}
```

example here

### Why do we need to pass a `callback function` to the `setState` function
state the problem

example here

```jsx live
function SetStateDemo() {
  const [state, setState] = React.useState('')

  const handleClick = () => {
    setState(state + 'a')
    setState(state + 'b')
    setState(state + 'c')
  }

  return <>
    <p>State: {state}</p>
    <button onClick={handleClick}>Click Me</button>
  </>
}
```


```jsx live
function SetStateDemoWithCallback() {
  const [state, setState] = React.useState('')

  const handleClick = () => {
    setState(prev => prev + 'a')
    setState(prev => prev + 'b')
    setState(prev => prev + 'c')
  }

  return <>
    <p>State: {state}</p>
    <button onClick={handleClick}>Click Me</button>
  </>
}
```

```jsx
// 

```


example here

